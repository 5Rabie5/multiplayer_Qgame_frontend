<div class="join-container">

  <!-- Player Name -->
  <mat-form-field appearance="fill">
    <mat-label>{{ 'PLAYER_NAME' | translate }}</mat-label>
    <input matInput [value]="playerName" (input)="onPlayerNameChange($event)" required />
  </mat-form-field>

  <!-- Game Code -->
  <mat-form-field appearance="fill">
    <mat-label>{{ 'GAME_CODE' | translate }}</mat-label>
    <input matInput [value]="gameCode" (input)="onGameCodeChange($event)" required />
  </mat-form-field>

  <!-- Upload Avatar -->
  <div class="upload-avatar-section">
    <label>{{ 'UPLOAD_AVATAR' | translate }}</label>
    <div class="upload-wrapper">
      <button mat-raised-button color="primary" (click)="fileInput.click()">
        {{ 'CHOOSE_FILE' | translate }}
      </button>
      <span class="file-name">{{ avatarFileName || ('NO_FILE_SELECTED' | translate) }}</span>
      <input #fileInput type="file" accept="image/*" hidden (change)="onAvatarChange($event)" />
    </div>
  </div>

  <!-- Character Dropdown -->
  <mat-form-field appearance="fill">
    <mat-label>{{ 'CHARACTER' | translate }}</mat-label>
    <mat-select [value]="selectedCharacterId" (selectionChange)="selectCharacter($event.value)">
      <mat-option value="">{{ 'SELECT_CHARACTER' | translate }}</mat-option>
      <mat-option *ngFor="let character of characters" [value]="character.id">
        <img [src]="character.image" class="avatar-icon" />
        {{ character.name | translate }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>{{ 'COLOR' | translate }}</mat-label>
    <mat-select [value]="selectedColor" (selectionChange)="selectedColor = $event.value">
      <mat-option value="">{{ 'SELECT_COLOR' | translate }}</mat-option>
      <mat-option *ngFor="let color of colors" [value]="color">
        {{ color | translate }}
      </mat-option>
    </mat-select>
  </mat-form-field>



  <!-- Image Preview -->
  <div class="preview" *ngIf="avatarImage || selectedCharacterImage">
    <img
      [src]="avatarImage || selectedCharacterImage"
      alt="Preview"
      [ngStyle]="{
        'border-color': selectedColor,
        'border-width.px': 4
      }"
    />
  </div>

</div>
